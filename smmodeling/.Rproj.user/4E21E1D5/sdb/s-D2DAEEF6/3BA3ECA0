{
    "contents" : "#' @title read.soilmoisture\n#' @name read.soilmoisture\n#' @description reads soil moisture data from csv file, \\cr \\cr\n#' \\strong{Expected format} \\cr\n#' \\code{date, depth1, depth2, depth3, ..., depthN}\n#' \\code{date should be in yyyy/mm/dd h:mm:ss format}\n#' @param filepath file to read\n#' @return data.frame\n#' @export\nread.soilmoisture <- function(filepath) {\n  data <- read.csv(filepath, stringsAsFactors=FALSE)\n  data$date <- as.POSIXct(data$date, format=\"%m/%d/%Y %H:%M\")\n  data\n}\n\n#' @title read.rainfall\n#' @name read.rainfall\n#' @description reads soil moisture data from csv file, \\cr \\cr\n#' expected format: \\cr\n#' \\code{date, depth1, depth2, depth3, ..., depthN}\n#' @param filepath file to read\n#' @return data frame\n#' @export\nread.rainfall <- function(filepath) {\n  data <- read.csv(filePath, stringsAsFactors=FALSE)\n  data$date <- as.POSIXct(data$date)\n  data\n}\n\n#' @export\nread.ofs <- function(filepath) {\n  data <- read.csv(filePath, stringsAsFactors=FALSE)\n  data$date <- as.POSIXct(data$date)\n  data\n}\n\n#' @title align.rainfall\n#' @description Aligns rainfall and soil moisture\n#' readings based on timestamp\n#' @return data.frame\n#' @export\nalign.rainfall <- function(soilmoisture, rainfall) {\n  soilm = soilmoisture\n  soilm$rainfall = rep(0, nrow(soilm))\n  pb <- txtProgressBar(min = 0, max = nrow(rainfall)\n                       , style = 3)\n\n  for(i in 1:nrow(rainfall)) {\n    row = rainfall[i,]\n    index = which(soilm$date > row$date)[1]\n\n    setTxtProgressBar(pb, i)\n\n    if(is.na(index)) {\n      #print(i)\n      next\n    }\n    if(index != 0) {\n      # soilm[index,]$rainfall = row$mm.hr\n      soilm[index,]$rainfall = row$rainfall\n    }\n  }\n  soilm\n}\n\n#' @title write.data\n#' @description Writes soil moisture data in csv\n#' @export\nwrite.data <- function(data, filename) {\n  write.csv(data, filename, row.names=FALSE)\n}\n",
    "created" : 1444248178782.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2754492853",
    "id" : "3BA3ECA0",
    "lastKnownWriteTime" : 1444253339,
    "path" : "~/Google Drive/USGS-project/code/smmodeling/R/read-write.R",
    "project_path" : "R/read-write.R",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_source"
}